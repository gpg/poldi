2008-04-05  Moritz  <moritz@gnu.org>

	* scd.c: Include "util/support.h".
	(scd_pksign): Use bin2hex.
	(scd_pksign): Removed unused code.

2008-04-05  Moritz  <moritz@gnu.org>

	* scd.c, scd.h: Minor changes/cleanup.

	* poldi-scd.c, poldi-scd.h: Removed.

2007-12-15  Moritz Schulte  <moritz@g10code.com>

	* scd.c (scd_release_cardinfo): Don't forget to release
	PUBKEY_URL.
	(inq_needpin): Use xtrymalloc_secure instead of gcry_malloc_secure
	directly (it's more consistent this way, I think).
	Removed disabled getattr related code.
	(agent_connect_from_infostr): Use strdup/free instead of
	xstrdup/xfree.

2007-11-10  Moritz  <moritz@g10code.com>

	* scd.c (learn_status_cb): Handle PUBKEY_URL.

2007-10-27  Moritz  <moritz@g10code.com>

	* poldi-scd.c, poldi-scd.h: New files.  Layer on top of scd.c.
	* Makefile.am (libscd_a_SOURCES): Added poldi-scd.c, poldi-scd.h.

2007-08-16  Moritz  <moritz@g10code.com>

	* scd.c (scd_serialno_internal): New function, it's basically the
	old scd_serialno() with a new parameter.
	(scd_serialno): Ripped; simply call scd_serialno_internal().
	(get_scd_socket_from_agent): Call scd_serialno_internal in order
	to select the OpenPGP app on the card.
	Comments.
	(scd_reset): Unused variable.
	(scd_readkey): Likewise; initialize *KEY to NULL.
	* scd.h: Comments.

2007-08-16  Moritz  <moritz@g10code.com>

	* scd.c (agent_connect_from_infostr): New function.
	(agent_scd_getinfo_socket_name): New function.
	(scd_connect): Use above functions for connecting to the agent and
	receiving scdaemons socket from the agent instead of connecting to
	the agent directly.
	(scd_serialno): Allow for R_SERIALNO being NULL so that the
	serialno is NOT returned to the caller.

2007-08-16  Moritz  <moritz@g10code.com>

	* scd.c (scd_connect): Send a RESTART instead of a RESET command
	to scdaemon.


2007-08-10  Moritz  <moritz@euler>

	* scd.c (scd_reset): New function.
	* scd.h: Declare it.

2007-06-29  Moritz  <moritz@g10code.com>

	* README, scd.c, scd.h: New files.
